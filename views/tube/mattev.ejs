<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/js/tailwindcss.js"></script>
    <title>エラー</title>
    <script>
function changeServer() {
    const server = document.getElementById('serverSelect').value;
    showMessage(`サーバーを${server}に変更します☑️`)
    window.location.href = `/wkt/watch/<%= videoId %>?server=${server}`;
}
function showMessage(text) {
    const alertMessage = document.createElement('div');
    alertMessage.classList.add(
        'fixed', 'top-4', 'right-4', 'bg-gradient-to-r', 
        'from-gray-800', 'to-gray-600', 'text-white', 
        'p-5', 'rounded-lg', 'shadow-xl', 'opacity-90', 
        'z-50', 'transform', 'scale-90', 'transition-transform', 
        'border-2', 'border-indigo-500'
    );
    alertMessage.innerHTML = `
        <span class="font-semibold">ℹ︎</span> <span>${text}</span>
    `;
    document.body.appendChild(alertMessage);
    setTimeout(() => {
        alertMessage.style.transform = 'translateX(0) scale(1)';
    }, 0);
    setTimeout(() => {
        alertMessage.style.opacity = '0';
        alertMessage.style.transform = 'translateX(100%) scale(1.1)';
        setTimeout(() => alertMessage.remove(), 1000);
    }, 3500);
}
    </script>
</head>
  
<body class="bg-gray-900 text-white">

    <div class="max-w-4xl mx-auto p-6 bg-gray-800 rounded-lg shadow-lg mt-0">
        <h1 class="text-3xl font-bold text-center mb-6">動画を取得できません</h1>
        <p class="text-center text-lg mb-6">エラー: <%= details %></p>

        <div class="flex w-full justify-center mb-6">
            <img src="/wkt/back/vi/<%= videoId %>/mqdefault.jpg" alt="動画のサムネイル" class="rounded-lg shadow-md max-w-full">
        </div>

        <p class="text-center text-lg mb-6">現在のサーバー: <strong><%= baseUrl.replace('https://', '').replace('.glitch.me', '') %></strong></p>

        <div class="text-center">
            <label for="serverSelect" class="text-xl">サーバーを変更:</label>
            <select id="serverSelect" class="mt-2 p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                <% serverUrls.forEach(server => { %>
                    <option value="<%= server.replace('https://', '').replace('.glitch.me', '') %>" class="bg-gray-800 hover:bg-gray-700"><%= server.replace('https://', '').replace('.glitch.me', '') %></option>
                <% }); %>
                <option value="direct" class="bg-gray-800 hover:bg-gray-700">direct</option>
            </select>
            <button onclick="changeServer()" class="mt-4 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300">変更</button>
          </div><br>
        <p class="text-center text-lg mb-6">サーバーを変えたり、再読み込みしたりしてみてね。</p>
    </div>

</body>
</html>
